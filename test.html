<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>像素猫 Canvas 动画</title>
<style>
  body {
    background: #111;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }
  canvas {
    image-rendering: pixelated; /* 保持像素感 */
    border: 2px solid #555;
  }
</style>
</head>
<body>
<canvas id="canvas" width="32" height="32"></canvas>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

// 加载 sprite sheet
const img = new Image();
img.src = "CatPackFree/Box3.png"; // 确保和 html 在同一目录

// 动画参数
let frame = 0;                // 当前帧
const totalFrames = 4;        // 总帧数（你的图是4帧）
const frameWidth = 32;        // 单帧宽度
const frameHeight = 32;       // 单帧高度
const fps = 5;                // 每秒帧数（可以改快/慢）
const frameDuration = 1000 / fps; // 每帧间隔时间

let lastTime = 0;

// 动画循环
function animate(timestamp) {
  if (!lastTime) lastTime = timestamp;
  const delta = timestamp - lastTime;

  if (delta >= frameDuration) {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.drawImage(
      img,
      frame * frameWidth, 0, frameWidth, frameHeight, // 源图位置
      0, 0, frameWidth, frameHeight                  // 画到canvas
    );
    frame = (frame + 1) % totalFrames; // 下一帧
    lastTime = timestamp;
  }

  requestAnimationFrame(animate);
}

// 图片加载完开始动画
img.onload = () => {
  requestAnimationFrame(animate);
};
</script>
</body>
</html>
